# Family Budget App - 完全版プロジェクト要約

**最終更新**: 2025年8月24日  
**更新方針**: AI主導自動更新システムによる継続的最新化

## 🏠 プロジェクト概要

**Family Budget App** - 家族向け家計管理のための現代的フルスタックWebアプリケーション

### 対象ユーザー・ペルソナ
- **主要**: 家族利用（夫婦・親子での共同管理）
- **副次**: 一人暮らしの支出管理

### 主要利用シナリオ
1. **家族による家計の可視化と残高管理** - 収支の透明化と共同意思決定
2. **一人暮らしの支出管理** - 個人の金銭管理と節約意識向上
3. **リスク回避型買い物予算決定** - 家計状況を踏まえた計画的消費

### プロジェクトスコープ
**含める予定**: OCR機能、マルチデバイス同期、予算管理・通知、レポート・グラフ、データエクスポート
**除外**: 銀行API連携（自動取引取得）

---

## 🏗 技術アーキテクチャ

### コアスタック
- **フロントエンド**: React 19 + TypeScript + Vite + MUI v6 + React Router v7
- **バックエンド**: Go 1.21 + Gin + GORM + MySQL 8.0
- **インフラ**: Docker Compose + GitHub Actions + Firebase Hosting + Cloud Run

### CI/CD・運用基盤
- **デプロイ戦略**: 継続的デプロイ（毎マージ時自動デプロイ）
- **API仕様**: OpenAPI/Swagger自動生成
- **バックアップ**: MySQL自動日次バックアップ
- **認証**: JWT独自実装 or Firebase Authentication（検討中）
- **監視**: エラー発生率・ユーザー操作ログ・データベースパフォーマンス

### 非機能要件（優先順位）
1. **使いやすさ（UI/UX）** - 家族誰でも直感的に操作可能
2. **セキュリティ（データ保護）** - 金融データの厳格な保護
3. **保守性（機能追加・修正の容易さ）** - 継続的な機能拡張
4. **パフォーマンス（高速レスポンス）** - ストレスフリーな操作感
5. **可用性（システム稼働率）** - 安定したサービス提供

---

## 🚀 開発ロードマップ

### Phase 2: Directory Structure Migration (70%完了)
- **目標**: 28コンポーネントの機能別分離完了
- **残作業**: 旧ディレクトリ削除・最終検証・ドキュメント同期

### Phase 3: フロントエンド品質向上・最適化
- **目標**: テスト・品質向上・UI/UX最適化
- **完了条件**: 機能実装完了 + ユーザーテスト実施 + 全テスト通過 + 本番デプロイ確認

### Phase 4: バックエンド実装・データ永続化
- **目標**: DB連携による初期バージョンリリース準備完了
- **スコープ**: Go API実装・認証機能・データ永続化

### Phase 5以降: 拡張機能実装
- OCR機能・マルチデバイス同期・高度なレポート機能等

---

## 🧪 品質・テスト戦略

### 現在の品質状況
- **テスト**: 352テスト、33スイート全通過（78スキップ含む）
- **コンポーネント構成**: ui:10, forms:6, navigation:10, layout:2

### 品質基準・目標値
- **テストカバレッジ**: Statements 60%以上、Branches 60%以上、Functions 50%以上
- **必須リリース確認**: 全自動テスト通過・セキュリティスキャン
- **Visual Regression Testing**: 検討中（Storybook + Chromatic候補）

### 5段階品質チェック
1. **Prettier** - コードフォーマット統一
2. **ESLint** - 標準設定ベース最小カスタマイズ
3. **TypeScript** - strict mode厳格型チェック
4. **Jest** - 自動テスト実行
5. **Vite Build** - プロダクションビルド確認

---

## 📚 ドキュメント体系・更新フロー

### 二層ドキュメント構造
1. **CLAUDE.md** - AI実行ガイド（AI自動更新 + 人間確認・手入れ）
2. **docs-src/** - 参照ドキュメント（AI自動更新）

### 自動更新システム
- **更新タイミング**: AI応答時判断 + 新機能追加時・技術変更時・開発プロセス変更時
- **健康度チェック**: 情報鮮度・コード整合性の自動監視
- **完全自動化**: API仕様・メトリクス・健康度チェック・AI応答連動更新
- **図解管理**: AI提案 → 人間確認・修正

### ドキュメント種別
- **architecture/** - システム図・技術選択理由・制約事項
- **testing/** - テスト戦略・品質基準・実行方法  
- **quality/** - TypeScript規約・パフォーマンス・アクセシビリティ
- **howto/** - 実践手順書（定期チーム見直し）
- **adr/** - 技術判断記録（AI自動更新）

---

## 🔐 運用・セキュリティ戦略

### 障害対応・運用
- **ロールバック**: GitHub Actionsワンクリック自動ロールバック
- **監視項目**: エラー発生率・ユーザー操作ログ・DB性能
- **バックアップ**: MySQL日次自動バックアップ

### セキュリティ方針
- **認証方式**: JWT独自実装 or Firebase Authentication（Phase 4で決定）
- **データ保護**: 家計データの厳格なアクセス制御
- **リリース前チェック**: セキュリティスキャン必須

### 開発規約・原則
- **TypeScript strict mode** 必須・any型使用禁止
- **React 19対応**: ref as propパターン・forwardRef非使用
- **MUI v6活用**: sx props・slotProps・Material Design準拠
- **コンテナベース開発**: Makefileコマンド統一・Docker環境必須

---

## 🎯 特徴・競合優位性

### 技術的優位性
- **AI駆動ドキュメント管理**: 自動更新による情報鮮度保証
- **継続的品質保証**: 5段階自動チェック・高テストカバレッジ
- **現代的技術スタック**: React 19・Go 1.21・クラウドネイティブ構成

### ユーザー体験優先設計
- **家族共同利用**: 複数ユーザーでの直感的操作
- **段階的機能拡張**: 基本機能→OCR→高度分析の計画的発展
- **UI/UX最優先**: 使いやすさを最重要視した設計方針

---

## 📋 関連リンク

### 実行ガイド・緊急時対応
- **[CLAUDE.md](../CLAUDE.md)** - AI作業実行の最短経路・緊急デバッグ
- **[緊急トラブルシューティング](howto/debugging-guide.md)** - 1分基本確認・5分詳細診断

### 詳細ドキュメント
- **[アーキテクチャ概要](architecture/README.md)** - システム構成・技術選択・制約事項
- **[テスト戦略](testing/README.md)** - 品質基準・実行方法・カバレッジ目標
- **[品質規約](quality/README.md)** - TypeScript規約・パフォーマンス基準
- **[実践ガイド](howto/README.md)** - 開発手順・効率化・トラブル解決
- **[技術判断記録](adr/README.md)** - 設計決定・技術選択の経緯

### 外部リソース
- **Storybook**: コンポーネントカタログ・統合ドキュメント
- **TypeDoc**: API仕様・型定義ドキュメント
- **Coverage Report**: テストカバレッジレポート

---

**この統合ドキュメントは、AI駆動の自動更新システムにより、プロジェクト進展と共に継続的に最新状態を維持します。**
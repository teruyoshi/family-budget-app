# ADR-0002: コンポーネントドキュメント戦略統一

## 📋 基本情報

- **ステータス**: 承認済み
- **作成日**: 2025-08-12
- **最終更新**: 2025-08-12
- **決定者**: 開発チーム

## 🎯 決定事項

**JSDoc一括更新とStorybookトレーサビリティ表の段階適用を実施し、管理可能なドキュメント戦略を確立する。**

## 🔍 背景・問題

- 既存コンポーネントのJSDocが不完全で、型情報とドキュメントが分離
- Storybookでの仕様トレーサビリティが不明瞭で、関連資料の関係性が見えない
- 新機能追加時の用語集更新が手動で、運用負荷が高い

## 💡 考慮した選択肢

### 選択肢1: 完全手動ドキュメント維持
- **メリット**: 細かい制御が可能
- **デメリット**: 運用負荷が高く、更新漏れリスク

### 選択肢2: 完全自動生成
- **メリット**: 運用負荷最小
- **デメリット**: 柔軟性に欠け、管理困難

### 選択肢3: 段階的半自動化（採用）
- **メリット**: 管理可能性と効率性のバランス
- **デメリット**: 初期設定工数が必要

## ✅ 決定理由

1. **運用スケーラビリティ**: チーム規模拡大に対応可能
2. **品質保証**: TSDocによる型安全性とドキュメントの一致
3. **トレーサビリティ**: 仕様・テスト・品質ガイドの明確な関連性
4. **段階適用**: 管理困難なコンポーネントは除外可能

## 🚀 実装方針

### Phase 1: JSDoc統一化
- 全コンポーネントにTSDoc形式でドキュメント追加
- Props型定義のexport必須化
- @remarks, @example, @defaultValueの適切な使用

### Phase 2: Storybookトレーサビリティ表
- 重要コンポーネントに限定して段階適用
- ADR・用語集・テスト・品質ガイドとの連携表を追加
- 管理困難なコンポーネントは簡潔化

### Phase 3: 用語集自動更新
- 新概念の自動検出と用語集反映
- データモデル図の自動同期
- 更新履歴の自動管理

## 📊 成功指標

- **ドキュメント完成度**: 主要コンポーネント95%以上でJSDoc完備
- **トレーサビリティ**: 重要コンポーネント80%でトレーサビリティ表完備
- **運用負荷**: 新コンポーネント追加時のドキュメント作成時間50%削減

## ⚠️ リスク・制約

- **学習コスト**: チームメンバーのTSDoc記法習得が必要
- **初期工数**: 既存コンポーネントの一括更新に時間が必要
- **メンテナンス**: トレーサビリティ表のリンク切れ監視が必要

## 🔗 関連リソース

- [TSDoc統一化 ADR-0001](./0001-use-tsdoc-unified-documentation.md)
- [用語集 v1.2.0](../glossary.md)
- [Storybookトレーサビリティテンプレート](../templates/storybook-traceability.md)
- [PRテンプレート](../../.github/PULL_REQUEST_TEMPLATE.md)

## 📝 レビュー予定

- **3ヶ月後**: トレーサビリティ表の運用状況評価
- **6ヶ月後**: JSDocの品質と運用負荷の評価
- **年次**: 全体戦略の見直しと改善

---

**作成者**: Claude AI  
**レビュアー**: 開発チーム  
**承認日**: 2025-08-12